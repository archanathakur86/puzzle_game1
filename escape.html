<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Escape the Haunted Room</title>
  <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      font-family: 'Share Tech Mono', monospace;
    }

    #bgVideo {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: -2;
    }

    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.8);
      z-index: -1;
    }

    body {
      margin: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      color: #f2f2f2;
      position: relative;
      overflow: hidden;
    }

    h1 {
      font-family: 'Creepster', cursive;
      font-size: 4rem;
      color: #ff2c2c;
      text-shadow: 0 0 20px #ff0000;
      margin-bottom: 20px;
    }

    p.story {
      max-width: 600px;
      text-align: center;
      margin-bottom: 30px;
      font-size: 1.2rem;
      font-weight: bold;
    }

    .puzzle-box {
      background: rgba(20, 20, 20, 0.8);
      border: 2px solid #990000;
      padding: 70px 80px;
      border-radius: 20px;
      box-shadow: 0 0 35px rgba(255, 0, 0, 0.4);
      text-align: center;
      font-size: 1.5rem;
    }

    label {
      font-size: 1.6rem;
      display: block;
      margin-bottom: 15px;
      color: #ffcccc;
    }

    input[type="text"] {
      padding: 18px 20px;
      width: 400px;
      border-radius: 10px;
      border: 1px solid #660000;
      background-color: #1c1c1c;
      color: #ff2c2c;
      font-size: 1.4rem;
      margin-bottom: 25px;
    }

    button {
      background-color: #990000;
      color: #fff;
      border: none;
      padding: 18px 40px;
      font-size: 1.4rem;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 0 10px #ff2c2c;
    }

    button:hover {
      background-color: #cc0000;
      box-shadow: 0 0 20px #ff0000;
    }

    .math-riddle {
      margin-top: 25px;
      font-size: 1rem;
      text-decoration: underline;
      cursor: pointer;
      color: #ff6666;
    }

    .button-wrapper {
      margin-top: 30px;
      display: flex;
      gap: 20px;
      justify-content: center;
    }

    audio {
      display: none;
    }
  </style>
</head>
<body>

  <video id="bgVideo" autoplay muted loop playsinline>
    <source src="https://v1.pinimg.com/videos/iht/720p/84/8c/1f/848c1f5324517e8480b8a23a99a04199.mp4" type="video/mp4">
    Your browser does not support HTML5 video.
  </video>

  <h1>Escape the Haunted Room</h1>
  <p class="story">The door creaks shut... You're trapped. Solve the puzzles before <em>it</em> finds you.</p>

    <div class="puzzle-box">
  <label for="password">üîë You're locked in. Solve the riddles to get the password!</label>
  
  <div id="riddle-container">
    <p id="riddle-text">Riddle 1: I have phases but I‚Äôm not a mood. I glow in the night, what am I?</p>
    <input type="text" id="riddle-answer" placeholder="Type your answer here">
    <br>
    <button onclick="submitRiddle()">Submit Answer</button>
  </div>

  <div id="password-section" style="display:none; margin-top:20px;">
    <label for="password">Enter Final Password:</label>
    <input type="text" id="password" placeholder="Type full password">
    <br>
    <button onclick="checkPassword()">Unlock Door</button>
  </div>

  <p id="progress" style="margin-top:15px; color:#ffcccc;">Progress: 0 / 2 clues found</p>

  <p class="math-riddle" onclick="solveRiddle()">üß† Bonus Puzzle: Dare to answer?</p>
  
  <div class="button-wrapper">
    <button onclick="window.location.href='index.html'">üè† Back to Home</button>
    <button id="nextButton" disabled onclick="window.location.href='es6.html'"
      style="opacity: 0.5; pointer-events: none; cursor: not-allowed;">
      ‚û°Ô∏è Go To Room 2
    </button>    
  </div>
</div>

  <audio id="bgAudio" autoplay loop>
    <source src="images/wrong-place-129242 (1).mp3" type="audio/mp3">
    Your browser does not support the audio element.
  </audio>

  <script>
  const riddles = [
    { question: "Riddle 1: I flow through you, yet I am not water. Without me, you perish. What am I?", answer: "blood", part: "blood" },
    { question: "Riddle 2: I have phases, yet I‚Äôm no mood. I glow at night but borrow my light. What am I?" , answer: "moon", part: "moon" }
  ];

  let currentRiddle = 0;
  let passwordParts = [];
  
  function submitRiddle() {
    const userAnswer = document.getElementById("riddle-answer").value.trim().toLowerCase();
    if (userAnswer === riddles[currentRiddle].answer) {
      passwordParts.push(riddles[currentRiddle].part);
      currentRiddle++;
      document.getElementById("progress").textContent = `Progress: ${passwordParts.length} / ${riddles.length} clues found`;
      
      if (currentRiddle < riddles.length) {
        document.getElementById("riddle-text").textContent = riddles[currentRiddle].question;
        document.getElementById("riddle-answer").value = "";
      } else {
        document.getElementById("riddle-container").style.display = "none";
        document.getElementById("password-section").style.display = "block";
        alert("You have all the clues! Final password is the combination of all parts.");
      }
    } else {
      alert("‚ùå Wrong answer! The shadows grow closer...");
    }
  }

  function checkPassword() {
    const input = document.getElementById("password").value.trim().toLowerCase();
    const correctPassword = passwordParts.join("");
    if (input === correctPassword) {
      alert("‚úÖ The cursed door opened... You escaped... for now.");
      const nextBtn = document.getElementById("nextButton");
      nextBtn.disabled = false;
      nextBtn.style.opacity = "1";
      nextBtn.style.pointerEvents = "auto";
      nextBtn.style.cursor = "pointer";
      nextBtn.style.boxShadow = "0 0 10px #00ff88";
    } else {
      alert("‚ùå Wrong... The shadows grow stronger around you.");
    }
  }

  function solveRiddle() {
    const answer = prompt("üëÅÔ∏è What is 3 √ó 7 + 1? Speak quickly!");
    if (answer === "22") {
      alert("üéâ Correct! The spirits whisper: 'You are worthy...'");
    } else {
      alert("üòà Wrong! The lights flicker... Something moves behind you.");
    }
  }
   // When puzzle solved:
localStorage.setItem("room1Completed", "true");

</script>
</body>
</html>
